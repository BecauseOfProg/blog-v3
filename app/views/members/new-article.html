{% extends "index.html" %}
{% block title %}Rédiger un article - Staff BecauseOfProg{% endblock %}
{% block description %}Écrire et publier un article sur le blog{% endblock %}
{% block url %}https://becauseofprog.fr{% endblock %}
{% block image %}https://cdn.becauseofprog.fr/v2/sites/becauseofprog.fr/assets/logos/bop.min.svg{% endblock %}
{% block author %}Équipe BecauseOfProg{% endblock %}

{% block content %}
  <div class="welcome parallax-container h250px">
    <div class="parallax primary"></div>
    <h4 class="header white-text">
      <i class="material-icons md-48">
        <span class="iconify" data-icon="mdi-pencil"></span>
      </i>
      <br>Équipe - Rédiger un article - BecauseOfProg
    </h4>
  </div>

  <div class="container">
    {{ breadcrumb(['Compte', 'Equipe', 'Publier un article'])|safe }}
  </div>
<div class="row container">
  <!--<p class="center">Votre article a bien été publié !<br />
    <a href="https://becauseofprog.fr/blog/#articles">Accéder</a>
  </p>-->
  <div class="col m12">
  <div class="card shadow-elem hoverable">
    <div class="card-content">
      <span class="card-title">Attention</span>
      <p>Fonctionnalité réservée aux rédacteurs. Relisez-vous bien !</p>
    </div>
  </div>
</div>

  <form class="col s12" method="post">
    <div class="row">
      <div class="input-field col s12 m6">
        <input type="text" name="title" id="title" required data-length="100"/>
        <label for="title">Titre</label>
      </div>
      <div class="input-field col s12 center">
        <select name="category" id="category">
          <option value="" disabled selected>Catégorie</option>
          {% for url, category in categories.items() %}
            <option value="{{url}}">{{category.name}}</option>
          {% endfor %}
        </select>
      </div>
      <div class="input-field col s12 m6">
        <input type="text" name="url" id="url" required data-length="50"/>
        <label for="url">URL (Sans accents, séparés avec tirets)</label>
      </div>
      <div class="input-field col s12 m6">
        <input type="url" name="banner" id="banner" required/>
        <label for="banner">Lien vers la bannière (https obligatoire)</label>
      </div>
      <div class="input-field col s12 center">
        <select name="type" id="type">
          <option value="" disabled selected>Type</option>
          {% for url, type in types.items() %}
            <option value="{{url}}">{{type.name}}</option>
          {% endfor %}
        </select>
      </div>
      <div class="input-field col s12">
        <textarea cols="250" rows="10" name="md-editor" id="md-editor"></textarea>
      </div>
      <div class="input-field col s12">
        <textarea id="description" name="description" class="materialize-textarea" required
                  data-length="255"></textarea>
        <label for="description">Description</label>
      </div>
      <div class="input-field col s12">
        <input type="text" name="labels" id="labels" required/>
        <label for="labels">Labels de l'article (séparés par des virgules)</label>
      </div>
      <div class="input-field col s12 center">
        <button class="btn-flat waves-effect primary--text" type="submit" name="action">
          Publier
          <i class="material-icons right">
            <span class="iconify" data-icon="mdi-publish"></span>
          </i>
        </button>
      </div>
    </div>
  </form>
</div>

  <!--<script src="//cdn.ckeditor.com/4.6.2/full/ckeditor.js"></script>-->
  <link rel="stylesheet" href="https://cdn.becauseofprog.fr/v2/libs/simplemde/simplemde.min.css">
  <script src="https://cdn.becauseofprog.fr/v2/libs/simplemde/simplemde.min.js"></script>
  <script type="text/javascript">
    var simplemde = new SimpleMDE({element: document.getElementById("md-editor")});
    simplemde.value("## Créez votre article grâce au nouvel éditeur Markdown  \nNe vous inquiétez pas, l'éditeur est simple à prendre en main. Bonne rédaction!");
  </script>
{% endblock %}