{% extends "index.html" %}
{% block title %}BecauseOfProg{% endblock %}
{% block description %}Blog de programmation et actualités technologiques{% endblock %}
{% block url %}https://becauseofprog.fr{% endblock %}
{% block image %}https://cdn.becauseofprog.fr/logos/bop-transparent.png{% endblock %}
{% block author %}Équipe BecauseOfProg{% endblock %}

{% block content %}
<!-- Categories bar -->
<div class="navbar-fixed no-mobile">
<nav class="semitransparent">
  <div class="nav-wrapper semitransparent">
    <ul class="center hide-on-med-and-down">
      {% for url, category in categories.items() %}
        <li class="waves-effect waves-light">
          <a href="/categorie/{{url}}">
            <i class="material-icons left">
              <span class="iconify" data-icon="mdi-{{category.icon}}"></span>
            </i>
            {{category.name}}
          </a>
        </li>
      {% endfor %}
      {% for url, type in types.items() %}
        <li class="waves-effect waves-light">
          <a href="/type/{{url}}">
            <i class="material-icons left">
              <span class="iconify" data-icon="mdi-{{type.icon}}"></span>
            </i>
            {{type.name}}
          </a>
        </li>
      {% endfor %}
    </ul>
  </div>
</nav>
</div>

<!-- Presentation carousel -->
<div class="carousel carousel-slider center welcome-bop-carousel">
  <div
    class="carousel-item white-text primary">
    <h3 class="carousel-bop-homepage-title">BecauseOfProg</h3>
    <h5 class="light grey-text text-lighten-3">Blog autour de la programmation créé par des passionnés</h5>
  </div>
  <div class="carousel-item white-text" style="background: url(https://cdn.becauseofprog.fr/syst-images/dev.jpg)">
    <h3 class="carousel-bop-homepage-title">Nos outils</h3>
    <h5 class="light grey-text text-lighten-3">Nous proposons plusieurs outils et services gratuits</h5>
    <a class="waves-effect waves-light btn primary center white-text" href="/page/projects">En savoir plus</a>
  </div>
  <div class="carousel-item white-text"
    style="background: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url({{ devblog.banner }})">
    <h3 class="carousel-bop-homepage-title">Sur notre devblog...</h3>
    <h5 class="light white-text text-lighten-3">{{ devblog.title }}</h5>
    <a class="waves-effect waves-light btn primary center"
     href="https://becauseofprog.fr/news/{{ devblog.url }}">Voir!</a>
  </div>
</div>

<!-- Last article -->
<div class="row container">
  <a class="black-text center" href="/article/{{ last.url }}" id="main">
    <div class="card horizontal hoverable">
      <div class="card-image">
        <img src="{{ image_proxy(last.banner, 678, 365) }}" class="border-radius-left">
      </div>
      <div class="card-stacked">
        <div class="card-content">
          <a class="btn primary" href="/article/{{ last.url }}">
            <i class="material-icons left">
              <span class="iconify" data-icon="mdi-clock-outline"></span>
            </i>
            Nouveau!
          </a>
          <a class="black-text" href="/article/{{ last.url }}">
            <h2>{{ last.title }}</h2>
          </a>
          <p>{{ last.description }}</p>
        </div>
      </div>
    </div>
  </a>
</div>

<div class="row container">
  {% for i in range(lasts.__len__()-1) %}
    <div class="col s12 m6 l6 xl6">
      <div class="card sticky-action hoverable">
        <div class="card-image">
          <a class="black-text" href="/article/{{ lasts[i].url }}">
            <img class="border-radius-top" src="{{ image_proxy(lasts[i].banner, 800, 449.7) }}" alt="Illustration de l'article">
          </a>
          <a href="/type/{{ lasts[i].type }}" class="btn-floating halfway-fab waves-effect waves-light primary">
            <i class="material-icons">
              <span class="iconify" data-icon="mdi-{{types[lasts[i].type].icon}}"></span>
            </i>
          </a>
        </div>
        <div class="card-content">
          <span class="card-title grey-text text-darken-4">
            <a class="black-text" href="/article/{{ lasts[i].url }}">
              {{ lasts[i].title }}
            </a>
          </span>
          <p>{{ lasts[i].description }}</p>
          <p>&nbsp;</p>
          <a class="no-style-link" href="/user/{{ lasts[i].author.username }}">
            <div class="chip waves-effect">
              <img
                src="{{ image_proxy(lasts[i].author.avatar, 32,32) }}"
                alt="Photo de profil de {{ lasts[i].author.displayname }}"/>
              {{ lasts[i].author.displayname }}
            </div>
          </a>
          <div class="chip">{{ lasts[i].timestamp.strftime('%d/%m/%Y') }}</div>
          <div class="chip waves-effect">
            <a class="no-style-link grey-text text-darken-4" href="/categorie/{{ lasts[i].category }}">
              {{ categories[lasts[i].category].name }}
            </a>
          </div>
        </div>
      </div>
    </div>
  {% endfor %}
</div>

<div class="row container">
  <a class="black-text center" href="/article/{{ lasts[2].url }}" id="main">
    <div class="card horizontal hoverable">
      <div class="card-image">
        <img src="{{ image_proxy(lasts[2].banner, 226, 121) }}" class="border-radius-left">
      </div>
      <div class="card-stacked">
        <div class="card-content">
          <a class="black-text card-title" href="/article/{{ lasts[2].url }}">
            {{ lasts[2].title }}
          </a>
          <a class="no-style-link" href="/user/{{ lasts[2].author.username }}">
            <div class="chip waves-effect">
              <img
                src="{{ image_proxy(lasts[2].author.avatar, 32,32) }}"
                alt="Photo de profil de {{ lasts[2].author.displayname }}"/>
              {{ lasts[2].author.displayname }}
            </div>
          </a>
          <div class="chip">{{ lasts[2].timestamp.strftime('%d/%m/%Y') }}</div>
          <div class="chip waves-effect">
            <a class="no-style-link grey-text text-darken-4" href="/categorie/{{ lasts[2].category }}">
              {{ categories[lasts[2].category].name }}
            </a>
          </div>
        </div>
      </div>
    </div>
  </a>
</div>

<!-- Projects carousel -->
<div class="carousel carousel-slider center">
    <div
      class="carousel-item white-text"
      style="background: linear-gradient( rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url('https://cdn.becauseofprog.fr/v2/sites/becauseofprog.fr/assets/background-projects-5.jpg')">
      <h3 class="carousel-bop-homepage-title shadow">Nos projets</h3>
      <h5 class="light grey-text text-lighten-3 shadow">BecauseOfProg, c'est aussi de nombreux projets</h5>
      <a class="waves-effect waves-light btn primary center white-text" href="/page/projects">En savoir plus</a>
    </div>
    <div class="carousel-item white-text" style="background: url('https://cdn.becauseofprog.fr/v2/projects/yt-podcast/bg-min-2.jpg')">
      <h3 class="carousel-bop-homepage-title">YouTube Podcasts</h3>
      <h5 class="light grey-text text-lighten-3">Transformez une chaîne YouTube ou une playlist en podcast</h5>
      <a class="waves-effect waves-light btn primary center white-text" href="https://podcast.becauseofprog.fr">Créer mon podcast</a>
    </div>
    <div class="carousel-item white-text"
      style="background: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url({{ devblog.banner }})">
      <h3 class="carousel-bop-homepage-title">Sur notre devblog...</h3>
      <h5 class="light white-text text-lighten-3">{{ devblog.title }}</h5>
      <a class="waves-effect waves-light btn primary center"
       href="https://becauseofprog.fr/news/{{ devblog.url }}">Voir!</a>
    </div>
  </div>

  <div class="container row carousel-bop-homepage-title">
    <div id="links" onload="requestembed('links')">
      <div class="preloader-wrapper big active">
        <div class="spinner-layer spinner-blue-only">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div><div class="gap-patch">
            <div class="circle"></div>
          </div><div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <hr class="primary">

<div class="container carousel-bop-homepage-title">
  <div class="row">
    <div class="col s12 m5">
      <div class="card">
        <div class="card-content">
          <h5 class="primary--text">Nos réseaux sociaux</h5>
          <p>Nous postons régulièrement des nouvelles, des tips et des astuces. Suivez-nous! </p>

          <br/>
          <a href="https://twitter.com/BecauseOfProg">
            <span class="iconify" data-icon="mdi-twitter" data-inline="false" data-width="75px" style="color: black;"></span>
          </a>
          <a href="https://discord.becauseofprog.fr">
            <span class="iconify" data-icon="mdi:discord" data-inline="false" data-width="75px" style="color: black;"></span>
          </a>
          <a class="teal-text" href="https://mstdn.io/@bop">
            <span class="iconify" data-icon="mdi:mastodon" data-inline="false" data-width="75px" style="color: black;"></span>
          </a>
          <a class="black-text" href="https://github.com/BecauseOfProg">
            <span class="iconify" data-icon="mdi:github-circle" data-inline="false" data-width="75px" style="color: black;"></span>
          </a>
          <a class="black-text" href="https://instagram.com/BecauseOfProg">
            <span class="iconify" data-icon="mdi:instagram" data-inline="false" data-width="75px" style="color: black;"></span>
          </a>

        </div>
        <div class="card-tabs">
          <ul class="tabs tabs-fixed-width">
            <li class="tab"><a href="#twitter" class="primary--text">Twitter</a></li>
            <li class="tab"><a class="active primary--text" href="#mastodon">Mastodon</a></li>
            <li class="tab"><a href="#instagram" class="primary--text">Instagram</a></li>
          </ul>
        </div>
        <div class="card-content grey lighten-4">
          <div id="twitter" onclick="requestembed('twitter')">Timeline intégrée?</div>
          <div id="mastodon" onload="requestembed('mastodon')">Timeline intégrée?</div>
          <div id="instagram" onclick="requestembed('instagram')">Timeline intégrée?</div>
        </div>
      </div>
    </div>

    <div class="col s12 m7">
      <div class="card">
        <div class="card-image">
          <img src="https://cdn.becauseofprog.fr/v2/sites/becauseofprog.fr/assets/new-banner.png">
          <span class="card-title shadow">A propos de nous</span>
        </div>
        <div class="card-content">
          <p>La BecauseOfProg, c'est plusieurs développeurs rassemblés autour de projets communs, dont ce blog, depuis février 2017.
            Nous souhaitons avant tout nous améliorer dans nos domaines (développement, administration système,
            sécurité informatique...) et partager notre passion.
            Sur ce blog, nous partageons nos trouvailles, nos projets, notre point de vue.
          </p>
        </div>
        <div class="card-action">
          <a href="/page/about" class="primary--text">En savoir plus</a>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="/static/js/links-request.js"></script>
{% endblock %}