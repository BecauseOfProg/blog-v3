{% extends "index.html" %}
{% block title %}BecauseOfProg{% endblock %}
{% block description %}Blog de programmation et actualités technologiques{% endblock %}
{% block url %}https://becauseofprog.fr{% endblock %}
{% block image %}https://cdn.becauseofprog.fr/logos/bop-transparent.png{% endblock %}
{% block author %}Équipe BecauseOfProg{% endblock %}

{% block content %}
<!-- Categories bar -->
<div class="navbar-fixed no-mobile">
<nav class="semitransparent">
  <div class="nav-wrapper semitransparent">
    <ul class="center hide-on-med-and-down">
      {% for url, category in categories.items() %}
        <li class="waves-effect waves-light">
          <a href="/categorie/{{url}}">
            <i class="material-icons left">
              <span class="iconify" data-icon="mdi-{{category.icon}}"></span>
            </i>
            {{category.name}}
          </a>
        </li>
      {% endfor %}
      {% for url, type in types.items() %}
        <li class="waves-effect waves-light">
          <a href="/type/{{url}}">
            <i class="material-icons left">
              <span class="iconify" data-icon="mdi-{{type.icon}}"></span>
            </i>
            {{type.name}}
          </a>
        </li>
      {% endfor %}
    </ul>
  </div>
</nav>
</div>

<!-- Presentation carousel -->
<div class="carousel carousel-slider center">
  <div class="carousel-item white-text" style="background: url(https://cdn.becauseofprog.fr/syst-images/bg.jpg)">
    <h3 class="carousel-bop-homepage-title">BecauseOfProg</h3>
    <h5 class="light grey-text text-lighten-3">Blog autour de la programmation créé par des passionnés</h5>
  </div>
  <div class="carousel-item white-text" style="background: url(https://cdn.becauseofprog.fr/syst-images/dev.jpg)">
    <h3 class="carousel-bop-homepage-title">Nos outils</h3>
    <h5 class="light grey-text text-lighten-3">Nous proposons plusieurs outils et services gratuits</h5>
    <a class="waves-effect waves-light btn primary center white-text" href="/page/projects">En savoir plus</a>
  </div>
  <div class="carousel-item white-text"
    style="background: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url({{ devblog.banner }})">
    <h3 class="carousel-bop-homepage-title">Sur notre devblog...</h3>
    <h5 class="light white-text text-lighten-3">{{ devblog.title }}</h5>
    <a class="waves-effect waves-light btn primary center"
     href="https://becauseofprog.fr/news/{{ devblog.url }}">Voir!</a>
  </div>
</div>

<!-- Last article -->
<div class="row container">
  <a class="black-text center" href="/article/{{ last.url }}" id="main">
    <div class="col-md-2 col-md-offset-5">
      <p class="btn primary">
        <i class="material-icons left">
          <span class="iconify" data-icon="mdi-clock-outline"></span>
        </i>
        Nouveau!
      </p>
    </div>
    <h2 class="bop-title">{{ last.title }}</h2>
    <p>{{ last.description }}</p>
    <img src="{{ image_proxy(last.banner, 678, 365) }}" alt="{{last.title}}" class="center responsive-img">
  </a>
</div>

<div class="row">
  {% for post in lasts %}
    <div class="col s12 m6 l4 xl4">
      <div class="card sticky-action hoverable">
        <div class="card-image">
          <a class="black-text" href="/article/{{ post.url }}">
            <img src="{{ image_proxy(post.banner, 800, 449.7) }}" alt="Illustration de l'article">
          </a>
          <a href="/type/{{ post.type }}" class="btn-floating halfway-fab waves-effect waves-light primary">
            <i class="material-icons">
              <span class="iconify" data-icon="mdi-{{types[post.type].icon}}"></span>
            </i>
          </a>
        </div>
        <div class="card-content">
          <span class="card-title grey-text text-darken-4">
            <a class="black-text" href="/article/{{ post.url }}">
              {{ post.title }}
            </a>
          </span>
          <p>{{ post.description }}</p>
          <p>&nbsp;</p>
          <a class="no-style-link" href="https://becauseofprog.fr/user/{{ post.author.username }}">
            <div class="chip waves-effect">
              <img src="{{ image_proxy(post.author.avatar, 32,32) }}" alt="Photo de profil de {{ post.author.displayname }}">
              {{ post.author.displayname }}
            </div>
          </a>
          <div class="chip">{{ post.timestamp.strftime('%d/%m/%Y') }}</div>
          <div class="chip waves-effect">
            <a class="no-style-link" href="/categorie/{{ post.category }}">
              {{ categories[post.category].name }}
            </a>
          </div>
        </div>
      </div>
    </div>
  {% endfor %}
</div>

<div class="container">
  <div class="row">
    <div class="col s12 m6">
      <ul class="collection with-header z-depth-2">
        <li class="collection-header"><h4 class="primary--text">Les liens</h4></li>
        <div id="display"></div>
      </ul>
    </div>
    <div class="col s12 m6">

      <ul class="collection z-depth-2">
        <li class="collection-item">
          <h5 class="primary--text">Nous suivre</h5>
          <div class="row">
            <a class="blue-text text-lighten-2" href="https://twitter.com/BecauseOfProg">
              <i class="material-icons large">
                <span class="iconify" data-icon="mdi-twitter"></span>
              </i>
            </a>
            <a class="blue-text text-darken-1" href="https://discord.becauseofprog.fr">
              <i class="material-icons large">
                <span class="iconify" data-icon="mdi-discord"></span>
              </i>
            </a>
            <a class="teal-text" href="https://mstdn.io/@bop">
              <i class="material-icons large">
                <span class="iconify" data-icon="mdi-mastodon"></span>
              </i>
            </a>
            <a class="black-text" href="https://github.com/BecauseOfProg">
              <i class="material-icons large">
                <span class="iconify" data-icon="mdi-github-circle"></span>
              </i>
            </a>
          </div>
        </li>
        <li class="collection-item">
          <h5 class="primary--text">A propos de nous</h5>
          <p>La BecauseOfProg, c'est plusieurs développeurs rassemblés autour de projets communs, dont ce blog, depuis février 2017.
            Nous souhaitons avant tout nous améliorer dans nos domaines (développement, administration système,
            sécurité informatique...) et partager notre passion.
            Sur ce blog, nous partageons nos trouvailles, nos projets, notre point de vue.
          </p>
          <a class="btn-flat waves-effect primary--text" href="/page/about">
            <i class="material-icons right">
              <span class="iconify" data-icon="mdi-information-outline"></span>
            </i>
            En savoir plus
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}